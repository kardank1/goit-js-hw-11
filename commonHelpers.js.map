{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const KEY = \"42562534-6abe2af4317b1372b4a8ab981\";\n\nexport function getImages(request){\n  let truthRequest = request;  \n  if(request.includes(\" \")){\n    truthRequest = request.split(\" \").join(\"+\");\n  }\n\n    return fetch(\"https://pixabay.com/api/?key=\"+KEY+\"&q=\"+truthRequest+\"&image_type=photo&orientation=horizontal&safesearch=true\")\n              .then(res => {\n                if(!res.ok){\n                    throw new Error(\"Error image\");\n                }\n\n                return res.json()})\n              .catch(error => alert(error));\n}","export function addMarkup(date){\n\n    \n\n    return date.map(item => `\n    <li class=\"gallery-item\">\n        <a class=\"gallery-link\" href=\"${item.largeImageURL}\">\n            <img \n                class=\"gallery-image\" \n                src=\"${item.previewURL}\" \n                alt=\"${item.tags}\" \n                />\n        </a>\n    <ul class=\"statistic-list\">\n      <li class=\"statistic-item\">\n        <h3 class=\"statistic-title\">Likes</h3>\n        <p class=\"statistic-info\">${item.likes}</p>\n      </li>\n      <li class=\"statistic-item\">\n        <h3 class=\"statistic-title\">Views</h3>\n        <p class=\"statistic-info\">${item.views}</p>\n      </li>\n      <li class=\"statistic-item\">\n        <h3 class=\"statistic-title\">Comments</h3>\n        <p class=\"statistic-info\">${item.comments}</p>\n      </li>\n      <li class=\"statistic-item\">\n        <h3 class=\"statistic-title\">Downloads</h3>\n        <p class=\"statistic-info\">${item.downloads}</p>\n      </li>\n    </ul>\n  </li>`).join(\"\");\n}\n\nexport function loading(tag){\n  tag.innerHTML = '<span class=\"loader\"></span>';\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport { getImages } from \"./js/pixabay-api\";\nimport { addMarkup } from \"./js/render-functions\";\nimport { loading } from \"./js/render-functions\";\n\nconst galleryForm = document.querySelector(\".gallery-form\");\nconst search = document.querySelector(\".gallery-search\")\nconst galleryList = document.querySelector(\".gallery\")\nlet images;\nconst option = {\n    overlayOpacity: 0.8,\n    captionsData: 'alt',\n    captionDelay: 250,\n  };\n\nlet gallery = new SimpleLightbox('.gallery a', option);\n\ngalleryForm.addEventListener(\"submit\", event => {\n    event.preventDefault();\n    if(search.value.trim() ===\"\"){\n        return;\n    }\n    galleryList.innerHTML = \"\";\n    loading(galleryList)\n    images = getImages(search.value.trim());\n    images.then(data => {\n        if(!data.total){\n            iziToast.error({\n                message: 'Sorry, there are no images matching your search query. Please try again!',\n                position: 'topRight',\n            });\n            \n        }else{\n            galleryList.insertAdjacentHTML(\"beforeend\", addMarkup(data.hits));\n            gallery.refresh();\n        }\n    }).finally(() => document.querySelector('.loader').remove())\n})\n\n\n"],"names":["KEY","getImages","request","truthRequest","res","error","addMarkup","date","item","loading","tag","galleryForm","search","galleryList","images","option","gallery","SimpleLightbox","event","data","iziToast"],"mappings":"6vBAAA,MAAMA,EAAM,qCAEL,SAASC,EAAUC,EAAQ,CAChC,IAAIC,EAAeD,EACnB,OAAGA,EAAQ,SAAS,GAAG,IACrBC,EAAeD,EAAQ,MAAM,GAAG,EAAE,KAAK,GAAG,GAGnC,MAAM,gCAAgCF,EAAI,MAAMG,EAAa,0DAA0D,EACnH,KAAKC,GAAO,CACX,GAAG,CAACA,EAAI,GACJ,MAAM,IAAI,MAAM,aAAa,EAGjC,OAAOA,EAAI,KAAI,CAAE,CAAC,EACnB,MAAMC,GAAS,MAAMA,CAAK,CAAC,CAC1C,CChBO,SAASC,EAAUC,EAAK,CAI3B,OAAOA,EAAK,IAAIC,GAAQ;AAAA;AAAA,wCAEYA,EAAK,aAAa;AAAA;AAAA;AAAA,uBAGnCA,EAAK,UAAU;AAAA,uBACfA,EAAK,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oCAMIA,EAAK,KAAK;AAAA;AAAA;AAAA;AAAA,oCAIVA,EAAK,KAAK;AAAA;AAAA;AAAA;AAAA,oCAIVA,EAAK,QAAQ;AAAA;AAAA;AAAA;AAAA,oCAIbA,EAAK,SAAS;AAAA;AAAA;AAAA,QAG1C,EAAE,KAAK,EAAE,CACjB,CAEO,SAASC,EAAQC,EAAI,CAC1BA,EAAI,UAAY,8BAClB,CC5BA,MAAMC,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAS,SAAS,cAAc,iBAAiB,EACjDC,EAAc,SAAS,cAAc,UAAU,EACrD,IAAIC,EACJ,MAAMC,EAAS,CACX,eAAgB,GAChB,aAAc,MACd,aAAc,GAClB,EAEA,IAAIC,EAAU,IAAIC,EAAe,aAAcF,CAAM,EAErDJ,EAAY,iBAAiB,SAAUO,GAAS,CAC5CA,EAAM,eAAc,EACjBN,EAAO,MAAM,KAAI,IAAM,KAG1BC,EAAY,UAAY,GACxBJ,EAAQI,CAAW,EACnBC,EAASb,EAAUW,EAAO,MAAM,KAAM,CAAA,EACtCE,EAAO,KAAKK,GAAQ,CACZA,EAAK,OAOLN,EAAY,mBAAmB,YAAaP,EAAUa,EAAK,IAAI,CAAC,EAChEH,EAAQ,QAAO,GAPfI,EAAS,MAAM,CACX,QAAS,2EACT,SAAU,UAC1B,CAAa,CAMb,CAAK,EAAE,QAAQ,IAAM,SAAS,cAAc,SAAS,EAAE,QAAQ,EAC/D,CAAC"}